:backend: revealjs
:revealjs_history: true
:revealjsdir: https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.4.1
:revealjs_theme: black
:source-highlighter: highlightjs
:imagesdir: images
:revealjs_transition: convex
:revealjs_plugin_zoom: enabled
:customcss: customcss.css

= Testes de Software: Cobertura de C√≥digo e Teste de Muta√ß√£o

== Quem sou eu ?
* Desenvolvedor de software desde 1999;
* Arquiteto de software desde 2019;
* Especialista em Java, .NET C# e TypeScript;
* MBA em Arquitetura de Solu√ß√µes;
* link:https://www.linkedin.com/in/jtsato/[https://www.linkedin.com/in/jtsato]

== C√≥digo ruim 
* Causa mais problemas em produ√ß√£o, trazendo preju√≠zos financeiros e a imagem da marca.
* Afasta bons desenvolvedores. 20% dos desenvolvedores saem de uma empresa devido ao c√≥digo ruim (pesquisa: c√≥digo fonte TV).

== O que podemos fazer ?
* Previsibilidade arquitetural.
* Maturidade em processo (pap√©is, regras e procedimentos bem definidos).
* Pr√°ticas de refactoring, code review, pair e mob programming.
* Testes com qualidade.

== Liberte-se do medo de modificar o C√≥digo
video::ycvaECDc31w[youtube,start=3860,end=4036,lang=pt,opts="cc_load_policy=1"]

== Cobertura de C√≥digo
* Representa a porcentagem de c√≥digo executado durante os testes. üïµÔ∏è‚Äç‚ôÇÔ∏è
* Foca na execu√ß√£o do c√≥digo, n√£o na qualidade do mesmo.
* A avalia√ß√£o surge quando afirma√ß√µes (Asserts) s√£o implementadas.
** Expectativa(expected) vs Realidade(actual).

== Desafios da busca por 100% de cobertura c√≥digo
* Por que buscar 100% de cobertura √© question√°vel?
** N√£o significa que n√£o h√° mais bugs no c√≥digo
** Riscos de escrever testes in√∫teis

== 100% de cobertura de c√≥digo, √© poss√≠vel ?
video::kScFczWbwRM[youtube,start=2451,end=2565,lang=pt,opts="cc_load_policy=1"]

== Teoria das Janelas Quebradas e Cobertura de C√≥digo
* Experimento de Philip Zimbardo sobre janelas quebradas
* Paralelo com a cobertura de c√≥digo

== Introdu√ß√£o √† "Cobertura de c√≥digo refinado"
* Defini√ß√£o de Refinar: fazer passar (um produto) por s√©rie de opera√ß√µes que lhe retiram impurezas, os excessos.

== Cobertura de C√≥digo Refinado
* Remo√ß√£o de falsos positivos para tornar a cobertura mais significativa
* Exemplos de falsos positivos (m√©todos trivial getter/setter, dispose, classes deserializadas, etc)

== Benef√≠cios da Cobertura de C√≥digo Refinado
* Significado mais claro da cobertura de 100%
* Redu√ß√£o do efeito (psicol√≥gico) das janelas quebradas
* Uso da cobertura de forma mais apropriada 

== Implementando a Cobertura de C√≥digo Refinado
* Exclus√£o de c√≥digo n√£o testado conscientemente
* Monitoramento e inspe√ß√£o da cobertura em geral
* Refatora√ß√£o do que √© considerado c√≥digo refinado

== M√©tricas
image::lines-of-code.png[height="540"]

== A Descoberta!
image::the-iceberg.png[]

== Teste de muta√ß√£o ou Mutation Testing

== O que √© teste de muta√ß√£o?
* √â o teste do teste.
* Afere, se quando a implementa√ß√£o √© alterada, algum teste falha (se falhar üëçüèº).
* A altera√ß√£o da implementa√ß√£o √© feita pela ferramenta de muta√ß√£o, criando outras vers√µes (mutantes).

== !
image::thinking.png[]

== !
image::show-me.png[]

== Ferramentas de teste de muta√ß√£o
* link:https://stryker-mutator.io[C#, Scala, Javascript: Stryker Mutator]
* link:https://pitest.org[Java: PIT aka pitest]
* link:https://mutmut.readthedocs.io/en/latest[Python: mutmut]
* link:https://github.com/zimmski/go-mutesting[Go: mutesting]

== Resumo
* √â usado para criar novos testes e avaliar a qualidade dos testes existentes;
* Te faz um desenvolvedor melhor;
* Pode simplificar a implementa√ß√£o;
* Te ajuda a encontrar possibilidades n√£o validadas;

== Realidade
- Regra do escoteiro (deixar o c√≥digo melhor do que estava antes de alter√°-lo).
- Manter um bom c√≥digo e controlar o d√©bito t√©cnico √© bom para a empresa e √© bom para o desenvolvedor.

== !
image::the-end.png[height="540"]
